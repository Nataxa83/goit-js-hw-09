{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const formData = {\n    email: '',\n    message: '',\n  };\n\n  const STORAGE_KEY = 'feedback-form-state';\n  const form = document.querySelector('.feedback-form'); \n  const emailInput = document.querySelector('input');\n  const textInput = document.querySelector('textarea');\n\n  \n  function saveToLS(STORAGE_KEY, value) {\n      const jsonData = JSON.stringify(value);\n      localStorage.setItem(STORAGE_KEY, jsonData);\n    }\n    \n     function loadFromLS(STORAGE_KEY) {\n        const json = localStorage.getItem(STORAGE_KEY);\n        try {\n            const data = JSON.parse(json);\n            return data;\n        } catch {\n            return json;\n        }\n    }    \n    \n    form.addEventListener('input', () => {\n      const formData = new FormData(form);\n      const email = formData.get('email');\n      const message = formData.get('message');\n      const userData = { email, message };\n    \n\n      saveToLS(STORAGE_KEY, userData);\n    });\n\n    form.addEventListener('submit', e => {\n        e.preventDefault();\n      \n        const formData = new FormData(form);\n        const email = formData.get('email').trim();\n        const message = formData.get('message').trim();\n        const data = { email, message };\n      \n        if (email === '' || message === '') {\n            alert('Fill please all fields');\n            return;\n        } else {\n            console.log(data);\n        } \n        \n        form.reset();\n      \n        localStorage.removeItem(STORAGE_KEY);\n      \n      });\n\n      window.addEventListener('DOMContentLoaded', () => {\n        const data = loadFromLS(STORAGE_KEY);\n      \n        form.elements.email.value = data?.email ?? '';\n        form.elements.message.value = data?.message ?? '';\n      });\n    \n  "],"names":["STORAGE_KEY","form","saveToLS","value","jsonData","loadFromLS","json","formData","email","message","data"],"mappings":"wFAKE,MAAMA,EAAc,sBACdC,EAAO,SAAS,cAAc,gBAAgB,EACjC,SAAS,cAAc,OAAO,EAC/B,SAAS,cAAc,UAAU,EAGnD,SAASC,EAASF,EAAaG,EAAO,CAClC,MAAMC,EAAW,KAAK,UAAUD,CAAK,EACrC,aAAa,QAAQH,EAAaI,CAAQ,CAC3C,CAEA,SAASC,EAAWL,EAAa,CAC9B,MAAMM,EAAO,aAAa,QAAQN,CAAW,EAC7C,GAAI,CAEA,OADa,KAAK,MAAMM,CAAI,CAExC,MAAgB,CACJ,OAAOA,CACV,CACJ,CAEDL,EAAK,iBAAiB,QAAS,IAAM,CACnC,MAAMM,EAAW,IAAI,SAASN,CAAI,EAC5BO,EAAQD,EAAS,IAAI,OAAO,EAC5BE,EAAUF,EAAS,IAAI,SAAS,EAItCL,EAASF,EAHQ,CAAE,MAAAQ,EAAO,QAAAC,EAGI,CACpC,CAAK,EAEDR,EAAK,iBAAiB,SAAU,GAAK,CACjC,EAAE,eAAc,EAEhB,MAAMM,EAAW,IAAI,SAASN,CAAI,EAC5BO,EAAQD,EAAS,IAAI,OAAO,EAAE,KAAI,EAClCE,EAAUF,EAAS,IAAI,SAAS,EAAE,KAAI,EACtCG,EAAO,CAAE,MAAAF,EAAO,QAAAC,GAEtB,GAAID,IAAU,IAAMC,IAAY,GAAI,CAChC,MAAM,wBAAwB,EAC9B,MACZ,MACY,QAAQ,IAAIC,CAAI,EAGpBT,EAAK,MAAK,EAEV,aAAa,WAAWD,CAAW,CAE3C,CAAO,EAED,OAAO,iBAAiB,mBAAoB,IAAM,CAChD,MAAMU,EAAOL,EAAWL,CAAW,EAEnCC,EAAK,SAAS,MAAM,OAAQS,GAAA,YAAAA,EAAM,QAAS,GAC3CT,EAAK,SAAS,QAAQ,OAAQS,GAAA,YAAAA,EAAM,UAAW,EACvD,CAAO"}